<html>
<head>
<body class="initial">
	<div class="messages">
		<h1>Watch out for the Curve</h1>
	</div>
</body>

<script src="https://www.gstatic.com/cast/js/receiver/1.0/cast_receiver.js"></script>
<script src="CurveGame.js"></script>
<script>
	
	
	var game = null;


/**
 * Main entry point. This is not meant to be compiled so suppressing missing
 * goog.require checks.
 */
var initialize = function() {
  var castReceiverManager = cast.receiver.CastReceiverManager.getInstance();
  var appConfig = new cast.receiver.CastReceiverManager.Config();

  appConfig.statusText = 'Spritedemo';
  // In production, use the default maxInactivity instead of using this.
  appConfig.maxInactivity = 6000;

  // Create the game before starting castReceiverManager to make sure any extra
  // cast namespaces can be set up.
  /** @suppress {missingRequire} */
  var gameConfig = new cast.receiver.games.GameManagerConfig();
  gameConfig.applicationName = 'Spritedemo';
  gameConfig.maxPlayers = 10;

  /** @suppress {missingRequire} */
  var gameManager = new cast.receiver.games.GameManager(gameConfig);

  /** @suppress {missingRequire} */
  game = new CurveGame(gameManager);
  
  gameManager.addGameManagerListener(game);
	console.log('Game started' );

  castReceiverManager.start(appConfig);
  game.run(function() {
    console.log('Game running.');
  });
};

if (document.readyState === 'complete') {
  initialize();
} else {
  /** Main entry point. */
  window.onload = initialize;
}

	
	

	
</script>

</html>